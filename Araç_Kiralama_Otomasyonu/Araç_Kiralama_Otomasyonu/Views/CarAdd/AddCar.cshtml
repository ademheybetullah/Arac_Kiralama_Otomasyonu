@model EntityLayer.Concrete.Car


<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="~/Scripts/Css/Navbar.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="~/Scripts/Css/CssAddCar.css" rel="stylesheet" />
    <title>AddCar</title>
    
</head>
<body>

    <div class="row">

        @Html.Partial("EmployeeNavbar")
        <p>Araç Ekle</p>
        <div class="p-4">
            <div class="row p-4" ">
                <div class="col" id="dropContainer" style="border:2px solid black;height:200px;">
                    Fotoğrafları Taşıyın(4 Adet)
                </div>
                <div class="col" style="border:2px solid black;height:200px;">
                    <div class="row">
                        <div class="addedPics col-sm-3">
                            <img style=" object-fit: cover; width:100%" id="pic1" height="190px" alt="birinci fotograf" />
                        </div>
                        <div class="addedPics col-sm-3">
                            <img style=" object-fit: cover; width: 100%" id="pic2" height="190px" alt="ikinci fotograf" />
                        </div>
                        <div class="addedPics col-sm-3">
                            <img style=" object-fit: cover; width: 100%" id="pic3" height="190px" alt="ucuncu fotograf" />
                        </div>
                        <div class="addedPics col-sm-3">
                            <img style=" object-fit: cover; width: 100%" id="pic4" height="190px" alt="dorduncu fotograf" />
                        </div>
                    </div>
                </div>
            </div>
            <form class="form-control" method="post">
                <input style="display: none; visibility: hidden;" type="text" class="form-control" name="Images[0].ImagePath" id="firstPhoto" value="" />
                <input style="display: none; visibility: hidden;" type="text" class="form-control" name="Images[1].ImagePath" id="secondPhoto" value="" />
                <input style="display: none; visibility: hidden;" type="text" class="form-control" name="Images[2].ImagePath" id="thirthPhoto" value="" />
                <input style="display: none; visibility: hidden;" type="text" class="form-control" name="Images[3].ImagePath" id="fourthPhoto" value="" />
                <input style="display: none; visibility: hidden;" class="form-control" placeholder="Şirket Id" name="CompanyId" value="@Session["CompanyId"]" />
                <div class="row">
                    <div class="col">
                        Model
                        <input type="text" class="form-control" placeholder="Model" name="Model">
                        @Html.ValidationMessageFor(x => x.Model)
                    </div>
                    <div class="col">
                        Marka
                        <input type="text" class="form-control" placeholder="Marka" name="Brand">
                        @Html.ValidationMessageFor(x => x.Brand)
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Renk
                        <input type="text" class="form-control" placeholder="Renk" name="Color">
                        @Html.ValidationMessageFor(x => x.Color)
                    </div>
                    <div class="col">
                        Araç Kilometre
                        <input type="number" class="form-control" placeholder="Anlık Kilometre" name="InstantKm">
                        @Html.ValidationMessageFor(x => x.InstantKm)
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Yakıt Türü
                        <select id="selFuelType" class="form-control" name="FuelType">
                            <option>Benzin</option>
                            <option>Dizel</option>
                            <option>LPG</option>
                            <option>Hibrit</option>
                        </select>
                        @Html.ValidationMessageFor(x => x.FuelType)
                    </div>
                    <div class="col">
                        Vites Türü
                        <select id="selGearType" class="form-control" name="GearType">
                            <option>Manuel</option>
                            <option>Otomatik</option>
                            <option>Yarı Otomatik</option>
                        </select>
                        @Html.ValidationMessageFor(x => x.GearType)
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Koltuk Sayısı
                        <input type="number" class="form-control" placeholder="Koltuk Sayısı" name="Seats">
                        @Html.ValidationMessageFor(x => x.Seats)
                    </div>
                    <div class="col">
                        Minimum Yaş Sınırı
                        <input type="number" class="form-control" placeholder="Minimum Yaş Sınırı" name="MinAge">
                        @Html.ValidationMessageFor(x => x.MinAge)
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        Gereken Ehliyet Yaşı
                        <input type="number" class="form-control" placeholder="Gereken Ehliyet Yaşı" name="MinDrivingLicenseAge">
                        @Html.ValidationMessageFor(x => x.MinDrivingLicenseAge)
                    </div>
                    <div class="col">
                        Günlük Kira Ücreti
                        <input type="number" class="form-control" placeholder="Kira Ücreti" name="RentalFee">
                        @Html.ValidationMessageFor(x => x.RentalFee)
                    </div>
                    <div class="col">
                        Rezervasyon Ücreti
                        <input type="number" class="form-control" placeholder="Rezervasyon Ücreti" name="DepositFee">
                        @Html.ValidationMessageFor(x => x.DepositFee)
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <label for="selCarCategory">Araç Kategorisi</label>
                        <select id="selCarCategory" class="form-control" name="CarCategory">
                            <option>Otomobil</option>
                            <option>Arazi</option>
                            <option>Ticari</option>
                        </select>
                        @Html.ValidationMessageFor(x => x.CarCategory)
                    </div>
                    <div class="col">
                        <label for="selRentalStatus">Kiralanabilir mi</label>
                        <select id="selRentalStatus" class="form-control" name="RentalStatus">
                            <option value="True">Evet</option>
                            <option value="False">Hayır</option>
                        </select>
                        @*@Html.ValidationMessageFor(x => x.RentalStatus)*@
                    </div>
                    <div class="row">
                        <div class="col">
                            &nbsp;
                        </div>
                        <div class="col-1">
                            <button id="ekleBtn" type="submit">Araç Ekle</button>
                        </div>
                        <div class="col">
                            &nbsp;
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <script>
        var pics = [];
        document.getElementById("dropContainer").ondragover = document.getElementById("dropContainer").ondragenter = function (evt) {
            evt.preventDefault();
        };

        document.getElementById("dropContainer").ondrop = function (evt) {
            if (evt.dataTransfer.files.length <= 4) {
                for (var i = 0; i < evt.dataTransfer.files.length; i++) {
                    if (pics.length <= 4) {
                        pics.push(evt.dataTransfer.files[i].name);
                    }
                    else {
                        alert("En fazla 4 adet fotoğraf ekleyebilirsiniz.");
                    }

                }
                document.getElementById("firstPhoto").value = "/Resimler/" + pics[0].toString();
                document.getElementById("secondPhoto").value = "/Resimler/" + pics[1].toString();
                document.getElementById("thirthPhoto").value = "/Resimler/" + pics[2].toString();
                document.getElementById("fourthPhoto").value = "/Resimler/" + pics[3].toString();
                $("#pic1").attr("src", document.getElementById("firstPhoto").value);
                $("#pic2").attr("src", document.getElementById("secondPhoto").value);
                $("#pic3").attr("src", document.getElementById("thirthPhoto").value);
                $("#pic4").attr("src", document.getElementById("fourthPhoto").value);
            } else {
                alert("En fazla 4 adet fotoğraf ekleyebilirsiniz.");
            }

            evt.preventDefault();
        };
    </script>
    @Html.Partial("_Footer")
</body>
</html>
